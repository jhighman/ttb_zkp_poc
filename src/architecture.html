<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trua ZKP - System Architecture</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-purple: #9d00ff;
            --dark-bg: #0a0b1e;
            --card-bg: #12152e;
        }
        
        body {
            background-color: var(--dark-bg);
            color: #e0e0ff;
            font-family: 'Inter', sans-serif;
        }
        
        .glass-card {
            background-color: rgba(18, 21, 46, 0.7);
            backdrop-filter: blur(10px);
        }
        
        .neon-border {
            box-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
            border: 1px solid rgba(0, 243, 255, 0.3);
        }
        
        .bg-neon-gradient {
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
        }
        
        .text-neon-blue {
            color: var(--neon-blue);
        }
        
        .architecture-component {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .architecture-component:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.7);
        }
        
        /* Connectors removed as requested */
        
        .component-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .hyperledger-color {
            color: #2F80ED;
        }
        
        .zkp-color {
            color: #9d00ff;
        }
        
        .trua-color {
            color: #00f3ff;
        }
        
        .w3c-color {
            color: #5DADE2;
        }
    </style>
</head>
<body class="min-h-screen">
    <header class="py-6">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl font-bold bg-gradient-to-r from-neon-blue to-neon-purple bg-clip-text text-transparent text-center">
                System Architecture
            </h1>
            <p class="text-center text-blue-300 mt-2">
                High-Level Architecture of the Trua Trust Infrastructure with Hyperledger Integration
            </p>
            <div class="flex justify-center mt-4">
                <button id="downloadPdf" class="bg-neon-gradient text-dark-bg px-4 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    Download PDF
                </button>
            </div>
            <div class="flex justify-center space-x-6 mt-4">
                <a href="index.html" class="text-neon-blue hover:text-white transition-colors">Home</a>
                <a href="roadmap.html" class="text-neon-blue hover:text-white transition-colors">Roadmap</a>
                <a href="did-progression.html" class="text-neon-blue hover:text-white transition-colors">DID Implementation Steps</a>
                <a href="architecture.html" class="text-neon-blue hover:text-white transition-colors">System Architecture</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="glass-card rounded-2xl p-8 neon-border mb-12">
            <h2 class="text-2xl font-bold text-white mb-6">Architecture Overview</h2>
            <p class="text-blue-200 mb-4">
                This diagram illustrates the high-level architecture of our trust infrastructure, showing how Hyperledger's SSI components integrate with our existing ZKP system. The architecture combines the privacy benefits of Zero-Knowledge Proofs with the decentralization and interoperability of blockchain-based Self-Sovereign Identity.
            </p>
            <p class="text-blue-200 mb-4">
                At the center is the Trua Trust Bureau (TTB), which orchestrates the interactions between all components while maintaining privacy and security. The integration of Hyperledger Indy, Aries, and Ursa enhances the system with enterprise-grade blockchain capabilities, enabling a comprehensive trust infrastructure that supports multiple industry verticals.
            </p>
        </div>

        <!-- Architecture Diagram -->
        <div class="glass-card rounded-2xl p-8 neon-border mb-12 relative overflow-hidden">
            <h3 class="text-2xl font-bold text-white mb-8 text-center">High-Level Architecture Diagram</h3>
            
            <!-- Architecture Visualization -->
            <div class="relative" style="height: 1100px;">
                <!-- Hyperledger Layer -->
                <div class="absolute w-full" style="top: 0; height: 200px;">
                    <div class="text-center mb-4">
                        <h4 class="text-xl font-bold hyperledger-color">Hyperledger SSI Layer</h4>
                    </div>
                    <div class="flex justify-center space-x-8">
                        <div class="architecture-component glass-card rounded-xl p-4 neon-border text-center w-64">
                            <div class="component-icon hyperledger-color">üîó</div>
                            <h5 class="font-bold hyperledger-color">Hyperledger Indy</h5>
                            <p class="text-sm text-blue-200">Permissioned ledger for DIDs, credential schemas, and revocation registries</p>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-4 neon-border text-center w-64">
                            <div class="component-icon hyperledger-color">üîÑ</div>
                            <h5 class="font-bold hyperledger-color">Hyperledger Aries</h5>
                            <p class="text-sm text-blue-200">Agent-based communication, credential exchange, and DIDComm messaging</p>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-4 neon-border text-center w-64">
                            <div class="component-icon hyperledger-color">üîê</div>
                            <h5 class="font-bold hyperledger-color">Hyperledger Ursa</h5>
                            <p class="text-sm text-blue-200">Cryptographic library for ZKPs, BBS+ signatures, and secure operations</p>
                        </div>
                    </div>
                </div>
                
                <!-- Connectors removed as requested -->
                
                <!-- Trua Trust Bureau -->
                <div class="absolute" style="top: 320px; left: 50%; transform: translateX(-50%);">
                    <div class="architecture-component glass-card rounded-xl p-6 neon-border text-center w-80">
                        <div class="component-icon trua-color">üèõÔ∏è</div>
                        <h5 class="font-bold trua-color">Trua Trust Bureau (TTB)</h5>
                        <p class="text-sm text-blue-200">Central orchestration for credential issuance, ZKP generation, and selective disclosure</p>
                    </div>
                </div>
                
                <!-- Connectors removed as requested -->
                
                <!-- Lower Layers -->
                <div class="absolute w-full" style="top: 520px;">
                    <div class="flex justify-center space-x-8">
                        <div class="architecture-component glass-card rounded-xl p-4 neon-border text-center w-64">
                            <div class="component-icon zkp-color">üß©</div>
                            <h5 class="font-bold zkp-color">ZKP Layer</h5>
                            <p class="text-sm text-blue-200">Zero-Knowledge Proof circuits for privacy-preserving verification</p>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-4 neon-border text-center w-64">
                            <div class="component-icon w3c-color">üìú</div>
                            <h5 class="font-bold w3c-color">W3C Standards Layer</h5>
                            <p class="text-sm text-blue-200">DIDs and Verifiable Credentials implementation</p>
                        </div>
                    </div>
                </div>
                
                <!-- Connectors removed as requested -->
                
                <!-- Industry Verticals -->
                <div class="absolute w-full" style="top: 720px; margin-bottom: 60px;">
                    <!-- Industry Verticals heading removed as requested -->
                    <div class="grid grid-cols-4 gap-8">
                        <div class="architecture-component glass-card rounded-xl p-3 neon-border text-center">
                            <div class="component-icon text-yellow-400">üíº</div>
                            <h5 class="font-bold text-yellow-400 text-sm">Employment</h5>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-3 neon-border text-center">
                            <div class="component-icon text-pink-400">‚ù§Ô∏è</div>
                            <h5 class="font-bold text-pink-400 text-sm">Dating Safety</h5>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-3 neon-border text-center">
                            <div class="component-icon text-green-400">üè•</div>
                            <h5 class="font-bold text-green-400 text-sm">Healthcare</h5>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-3 neon-border text-center">
                            <div class="component-icon text-blue-400">üí∞</div>
                            <h5 class="font-bold text-blue-400 text-sm">Financial</h5>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-3 neon-border text-center">
                            <div class="component-icon text-purple-400">üéì</div>
                            <h5 class="font-bold text-purple-400 text-sm">Education</h5>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-3 neon-border text-center">
                            <div class="component-icon text-red-400">üè†</div>
                            <h5 class="font-bold text-red-400 text-sm">Real Estate</h5>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-3 neon-border text-center">
                            <div class="component-icon text-orange-400">üì¶</div>
                            <h5 class="font-bold text-orange-400 text-sm">Supply Chain</h5>
                        </div>
                        <div class="architecture-component glass-card rounded-xl p-3 neon-border text-center">
                            <div class="component-icon text-indigo-400">üîç</div>
                            <h5 class="font-bold text-indigo-400 text-sm">Future Verticals</h5>
                        </div>
                    </div>
                </div>
                
                <!-- Bottom Border removed as requested -->
            </div>
        </div>
        
        <!-- Component Details -->
        <div class="glass-card rounded-2xl p-8 neon-border mb-12">
            <h3 class="text-2xl font-bold text-white mb-6">Component Details</h3>
            
            <!-- Hyperledger Components -->
            <div class="mb-8">
                <h4 class="text-xl font-bold hyperledger-color mb-4">Hyperledger SSI Layer</h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white/5 rounded-lg p-4">
                        <h5 class="font-bold hyperledger-color mb-2">Hyperledger Indy</h5>
                        <ul class="list-disc list-inside text-blue-200 space-y-2">
                            <li>Permissioned blockchain ledger</li>
                            <li>DID storage and resolution</li>
                            <li>Credential schema registry</li>
                            <li>Revocation registry</li>
                            <li>Immutable trust anchoring</li>
                        </ul>
                    </div>
                    <div class="bg-white/5 rounded-lg p-4">
                        <h5 class="font-bold hyperledger-color mb-2">Hyperledger Aries</h5>
                        <ul class="list-disc list-inside text-blue-200 space-y-2">
                            <li>Agent-based architecture</li>
                            <li>DIDComm secure messaging</li>
                            <li>Credential exchange protocols</li>
                            <li>Mobile and enterprise wallets</li>
                            <li>Interoperability framework</li>
                        </ul>
                    </div>
                    <div class="bg-white/5 rounded-lg p-4">
                        <h5 class="font-bold hyperledger-color mb-2">Hyperledger Ursa</h5>
                        <ul class="list-disc list-inside text-blue-200 space-y-2">
                            <li>Cryptographic library</li>
                            <li>ZKP implementations</li>
                            <li>BBS+ signature support</li>
                            <li>Secure key management</li>
                            <li>Standardized crypto operations</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Trua Trust Bureau -->
            <div class="mb-8">
                <h4 class="text-xl font-bold trua-color mb-4">Trua Trust Bureau (TTB)</h4>
                <div class="bg-white/5 rounded-lg p-4">
                    <ul class="list-disc list-inside text-blue-200 space-y-2">
                        <li><span class="font-semibold">Credential Issuance:</span> Issues W3C Verifiable Credentials and AnonCreds</li>
                        <li><span class="font-semibold">ZKP Generation:</span> Creates privacy-preserving proofs for verification</li>
                        <li><span class="font-semibold">Selective Disclosure:</span> Facilitates minimal data sharing</li>
                        <li><span class="font-semibold">Data Custody:</span> Securely manages sensitive applicant data</li>
                        <li><span class="font-semibold">Lifecycle Management:</span> Handles credential expiry and revocation</li>
                        <li><span class="font-semibold">Cross-Domain Orchestration:</span> Coordinates trust across industry verticals</li>
                    </ul>
                </div>
            </div>
            
            <!-- Lower Layers -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div>
                    <h4 class="text-xl font-bold zkp-color mb-4">ZKP Layer</h4>
                    <div class="bg-white/5 rounded-lg p-4">
                        <ul class="list-disc list-inside text-blue-200 space-y-2">
                            <li>Circom circuit definitions</li>
                            <li>SnarkJS proof generation</li>
                            <li>Groth16 proving system</li>
                            <li>Browser-based proof verification</li>
                            <li>Domain-specific ZKP circuits</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <h4 class="text-xl font-bold w3c-color mb-4">W3C Standards Layer</h4>
                    <div class="bg-white/5 rounded-lg p-4">
                        <ul class="list-disc list-inside text-blue-200 space-y-2">
                            <li>DID methods (did:web, did:key, did:indy)</li>
                            <li>Verifiable Credentials Data Model</li>
                            <li>Credential status and verification</li>
                            <li>Presentation exchange</li>
                            <li>Signature suites (Ed25519, BBS+)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Data Flow -->
        <div class="glass-card rounded-2xl p-8 neon-border mb-12">
            <h3 class="text-2xl font-bold text-white mb-6">Key Data Flows</h3>
            
            <div class="mb-6">
                <h4 class="text-xl font-bold text-neon-blue mb-4">Credential Issuance Flow</h4>
                <div class="bg-white/5 rounded-lg p-4">
                    <ol class="list-decimal list-inside text-blue-200 space-y-2">
                        <li>Trua Trust Bureau creates credential schema and stores it on Hyperledger Indy ledger</li>
                        <li>Applicant connects to TTB via Aries agent and requests credential</li>
                        <li>TTB verifies applicant identity and prepares credential data</li>
                        <li>TTB issues credential using Ursa cryptography and sends via DIDComm</li>
                        <li>Credential is stored in applicant's Aries-compatible wallet</li>
                        <li>Credential reference is recorded on Indy ledger for verification</li>
                    </ol>
                </div>
            </div>
            
            <div class="mb-6">
                <h4 class="text-xl font-bold text-neon-blue mb-4">Zero-Knowledge Proof Flow</h4>
                <div class="bg-white/5 rounded-lg p-4">
                    <ol class="list-decimal list-inside text-blue-200 space-y-2">
                        <li>Employer posts job with eligibility requirements</li>
                        <li>Applicant authorizes TTB to generate proof of eligibility</li>
                        <li>TTB retrieves credential data and job requirements</li>
                        <li>TTB generates ZKP using Ursa and Circom/SnarkJS</li>
                        <li>Proof is sent to employer via DIDComm</li>
                        <li>Employer verifies proof against Indy ledger without contacting TTB</li>
                        <li>Employer confirms eligibility without seeing sensitive data</li>
                    </ol>
                </div>
            </div>
            
            <div>
                <h4 class="text-xl font-bold text-neon-blue mb-4">Selective Disclosure Flow</h4>
                <div class="bg-white/5 rounded-lg p-4">
                    <ol class="list-decimal list-inside text-blue-200 space-y-2">
                        <li>Third party requests specific credential attributes</li>
                        <li>Applicant authorizes TTB to create selective disclosure</li>
                        <li>TTB uses Ursa's BBS+ signatures to create disclosure proof</li>
                        <li>Proof reveals only authorized attributes</li>
                        <li>Third party verifies proof against Indy ledger</li>
                        <li>Verification succeeds without revealing additional data</li>
                    </ol>
                </div>
            </div>
        </div>
    </main>

    <footer class="py-8 text-center text-blue-400 text-sm">
        <div class="flex justify-center space-x-6 mb-4">
            <a href="index.html" class="text-neon-blue hover:text-white transition-colors">Home</a>
            <a href="roadmap.html" class="text-neon-blue hover:text-white transition-colors">Roadmap</a>
            <a href="did-progression.html" class="text-neon-blue hover:text-white transition-colors">DID Implementation Steps</a>
            <a href="architecture.html" class="text-neon-blue hover:text-white transition-colors">System Architecture</a>
        </div>
        <p>¬© 2025 Trua Technologies | Privacy-Preserving Trust Infrastructure</p>
    </footer>

    <!-- Include html2pdf.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // PDF Download functionality
            document.getElementById('downloadPdf').addEventListener('click', function() {
                // Show loading state
                const button = this;
                const originalText = button.innerHTML;
                button.innerHTML = '<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-dark-bg" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Generating PDF...';
                button.disabled = true;
                
                // Get the main content element
                const content = document.querySelector('main');
                
                // Create a clone of the content for PDF generation
                const pdfContent = content.cloneNode(true);
                
                // Create print-friendly styles for PDF
                const printStyles = document.createElement('style');
                printStyles.textContent = `
                    body, .glass-card, .architecture-component, .bg-white\\/5, .bg-blue-900\\/30 {
                        background-color: white !important;
                        box-shadow: none !important;
                        backdrop-filter: none !important;
                    }
                    
                    .text-blue-200, .text-blue-300, .text-blue-400, p, li, h4 {
                        color: #333 !important;
                    }
                    
                    h1, h2, h3, .text-white, .font-bold {
                        color: #000 !important;
                    }
                    
                    .text-neon-blue, .hyperledger-color {
                        color: #0066cc !important;
                    }
                    
                    .trua-color {
                        color: #009999 !important;
                    }
                    
                    .zkp-color {
                        color: #660099 !important;
                    }
                    
                    .w3c-color {
                        color: #0066cc !important;
                    }
                    
                    .neon-border {
                        border: 1px solid #ccc !important;
                    }
                    
                    .connector {
                        background: #0066cc !important;
                    }
                `;
                
                // Apply print-friendly styles to the clone
                pdfContent.appendChild(printStyles);
                
                // Configure PDF options
                const options = {
                    margin: [10, 10, 10, 10],
                    filename: 'trua-system-architecture.pdf',
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2, useCORS: true },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };
                
                // Generate PDF from the styled clone
                html2pdf().from(pdfContent).set(options).save().then(function() {
                    // Restore button state
                    button.innerHTML = originalText;
                    button.disabled = false;
                });
            });
        });
    </script>
</body>
</html>